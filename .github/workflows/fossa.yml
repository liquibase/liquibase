name: Fossa Report Generation

on:
  workflow_dispatch:
    inputs:
      distinct_id:
      # Tag to use from :https://github.com/Datical/DaticalDB-installer/tags. Have this variable to be near a DaticalDb-installer version variable which is used during its report generation
      # https://datical.atlassian.net/browse/DAT-18632
      version_number_for_report_generation:
        description: 'Typically supply the DaticalDb-installer version variable which is used during its report generation to be stored in the s3 bucket. eg 8.7.352'
        required: true
        
jobs:
  fossa-scan:
    uses: liquibase/build-logic/.github/workflows/fossa.yml@main
    secrets: inherit
    with:
      org: Datical

  # https://github.com/Codex-/return-dispatch/blob/main/README.md?plain=1#L35
  display-distinct-id:
    runs-on: ubuntu-latest
    steps:
      -   name: echo distinct ID ${{ github.event.inputs.distinct_id }}
          run: echo ${{ github.event.inputs.distinct_id }}

